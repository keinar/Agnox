# ===================================================================
# Agnostic Automation Center - Environment Variables
# ===================================================================
# Copy this file to .env and update with your actual values
# ===================================================================

# ===================================================================
# Database Configuration
# ===================================================================

# MongoDB Connection String
# For local development: mongodb://localhost:27017/automation_platform
# For MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/automation_platform
MONGO_URI=mongodb://localhost:27017/automation_platform
MONGODB_URL=${MONGO_URI}

# ===================================================================
# Message Queue & Cache
# ===================================================================

# RabbitMQ Connection String
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672

# Redis Connection String
REDIS_URL=redis://redis:6379

# ===================================================================
# Authentication & Security
# ===================================================================
# ⚠️ CRITICAL FOR PRODUCTION ⚠️
# ===================================================================

# JWT Secret Key (REQUIRED for production)
# Generate a secure secret with: openssl rand -hex 64
# Minimum 64 characters recommended
# Example: a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2g3h4i5j6k7l8m9n0o1p2q3r4s5t6u7v8w9x0y1z2
JWT_SECRET=your-super-secret-jwt-key-minimum-64-characters-CHANGE-THIS-IN-PRODUCTION

# JWT Token Expiration
# Examples: 24h, 7d, 30d
JWT_EXPIRY=24h

# Password Hashing Salt Rounds (bcrypt)
# Higher = more secure but slower (10-12 recommended)
PASSWORD_SALT_ROUNDS=10

# Dashboard URL (for CORS configuration)
DASHBOARD_URL=http://localhost:8080

# ===================================================================
# API Configuration
# ===================================================================

# Public API URL (used by worker and dashboard)
PUBLIC_API_URL=http://localhost:3000
VITE_API_URL=http://localhost:3000

# API Server Port
PORT=3000

# ===================================================================
# Test Execution Configuration
# ===================================================================

# Default Docker image for test execution
DEFAULT_TEST_IMAGE=your-registry/your-test-image:latest

# Default base URL for tests
DEFAULT_BASE_URL=https://your-app.example.com

# Default test folder
DEFAULT_TEST_FOLDER=tests/ui

# Reports storage directory
REPORTS_DIR=/app/reports

# ===================================================================
# Environment URLs (Optional - for UI display)
# ===================================================================

# Development environment URL
DEV_URL=http://localhost:5173

# Staging environment URL
STAGING_URL=https://staging.your-app.com

# Production environment URL
PRODUCTION_URL=https://your-app.com

# Base URL for current environment
BASE_URL=https://your-app.com

# ===================================================================
# Test Credentials (if needed by tests)
# ===================================================================

# Admin credentials for test execution
ADMIN_USER=your-test-admin@example.com
ADMIN_PASS=your-test-password

# Environment variables to inject into test containers
INJECT_ENV_VARS=ADMIN_USER,ADMIN_PASS

# ===================================================================
# AI Analysis Configuration (Optional)
# ===================================================================

# Google Gemini API Key (for test failure analysis)
# Get your key at: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# GitHub Copilot API Key (if using)
GITHUB_COPILOT_API_KEY=your-github-copilot-key-here

# ===================================================================
# Production Security Checklist
# ===================================================================
# Before deploying to production, ensure:
#
# ✅ JWT_SECRET is changed to a strong random value (64+ characters)
# ✅ MONGO_URI uses authentication and SSL/TLS
# ✅ ADMIN_USER and ADMIN_PASS are changed from defaults
# ✅ All API keys are valid and secured
# ✅ DASHBOARD_URL points to production domain
# ✅ CORS is properly configured
# ✅ Default admin password changed after first login
# ✅ Environment variables stored securely (not in code)
# ===================================================================

# ===================================================================
# Quick Setup Commands
# ===================================================================
#
# 1. Generate JWT Secret:
#    openssl rand -hex 64
#
# 2. Copy this file:
#    cp .env.example .env
#
# 3. Edit .env with your values:
#    nano .env  (or your preferred editor)
#
# 4. Run database migration:
#    npm run migration:run
#
# 5. Start services:
#    docker-compose up --build
#
# 6. Access dashboard:
#    http://localhost:8080
#
# 7. Login with default credentials:
#    Email: admin@default.local
#    Password: admin123
#    ⚠️ CHANGE PASSWORD IMMEDIATELY!
# ===================================================================
