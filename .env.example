# ===================================================================
# .env.example ‚Äî Agnostic Automation Center
# Copy this file to .env and fill in real values.
# NEVER commit .env to version control.
# ===================================================================

# ===================================================================
# üõ°Ô∏è  PLATFORM INFRASTRUCTURE SECRETS  (SECURITY_PLAN ¬ß1.3)
# Names prefixed with PLATFORM_ are internal to the AAC platform.
# These MUST NOT be injected into user test containers ‚Äî the worker
# enforces this via PLATFORM_SECRET_BLOCKLIST.
# Generate secrets with: openssl rand -hex 32
# ===================================================================
PLATFORM_MONGO_URI=mongodb+srv://<user>:<password>@<cluster>.mongodb.net/automation_platform
PLATFORM_REDIS_URL=redis://redis:6379
PLATFORM_RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672
PLATFORM_GEMINI_API_KEY=<your-gemini-api-key>
PLATFORM_JWT_SECRET=<min-64-char-random-hex>
PLATFORM_WORKER_CALLBACK_SECRET=<64-char-random-hex>
# Set to 'true' during the 24h deploy transition window; set 'false' or remove after
WORKER_CALLBACK_TRANSITION=false

# ===================================================================
# üîí  ENCRYPTION
# ===================================================================
ENCRYPTION_KEY=<64-char-hex-key>

# ===================================================================
# üß™  TEST ENVIRONMENT INJECTION  (The "App Under Test")
# These are SAFE variables passed into user test containers.
# ‚ö†Ô∏è  Do NOT add any PLATFORM_* names to INJECT_ENV_VARS ‚Äî they are
# blocked by the PLATFORM_SECRET_BLOCKLIST in the worker.
# ===================================================================
INJECT_ENV_VARS=ADMIN_USER,ADMIN_PASS
ADMIN_USER=admin@example.com
ADMIN_PASS=ChangeMeOnFirstLogin!
# MONGO_URI below refers to the App-Under-Test database (NOT the platform)
# MONGO_URI=mongodb+srv://<test-db-user>:<password>@<cluster>.mongodb.net/

BASE_URL=https://your-app.example.com

# ===================================================================
# üèóÔ∏è  APP CONFIGURATION
# ===================================================================
NODE_ENV=production
PORT=3000
REPORTS_DIR=/app/reports
JWT_EXPIRY=24h
PASSWORD_SALT_ROUNDS=10

# URLs
VITE_API_URL=https://api.your-domain.com
PUBLIC_API_URL=https://api.your-domain.com
DASHBOARD_URL=https://dashboard.your-domain.com
FRONTEND_URL=https://your-domain.com

# CORS (comma-separated allowed origins)
ALLOWED_ORIGINS=https://dashboard.your-domain.com

# Rate Limiting
LOG_RATE_LIMIT=false

# ===================================================================
# üß™  DEFAULT TEST SETTINGS
# ===================================================================
DEFAULT_TEST_IMAGE=your-org/your-test-image:latest
DEFAULT_BASE_URL=https://your-app.example.com
DEFAULT_TEST_FOLDER=tests
DEV_URL=http://localhost:5173
STAGING_URL=https://staging.your-app.example.com
PRODUCTION_URL=https://your-app.example.com

# ===================================================================
# üì¶  INTEGRATIONS
# ===================================================================

# Stripe
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_TEAM_PRICE_ID=price_...
STRIPE_ENTERPRISE_PRICE_ID=price_...

# SendGrid
SENDGRID_API_KEY=SG....
FROM_EMAIL=noreply@your-domain.com
FROM_NAME=Agnostic Automation Center
EMAIL_RETRY_MAX_ATTEMPTS=3
EMAIL_RETRY_INITIAL_DELAY=1000
EMAIL_TRACKING_ENABLED=true
EMAIL_OPEN_TRACKING=true
EMAIL_CLICK_TRACKING=true

# GitHub Copilot (optional)
GITHUB_COPILOT_API_KEY=ghp_...
